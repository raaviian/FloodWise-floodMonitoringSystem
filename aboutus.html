<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>FloodWise - About Us</title>
    <link rel="icon" href="assets/fw-plain.png" type="image/x-icon" />
    <link
      rel="shortcut icon"
      href="path/to/your/favicon.ico"
      type="image/x-icon"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
  </head>

  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top">
      <div class="container">
        <a class="navbar-brand" href="homepage.html">
          <img
            src="assets/fw-plain.png"
            alt="FloodWise Logo"
            width="50"
            height="50"
            class="navbar-logo"
          />
        </a>

        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" href="forum.html">Forum</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="feature.html">Features</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="floodmonitor.html"
                >Flood Monitoring</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="aboutus.html">About Us</a>
            </li>
          </ul>

          <form class="d-flex"></form>
        </div>
      </div>
    </nav>

    <!-- First Page -->
    <div id="first-page" class="container-fluid">
      <div
        style="
          background-image: url('assets/bg-page.jpg');
          height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
        "
      >
        <div class="container">
          <div class="row">
            <!-- Column for the paragraph -->
            <div class="col-md-6 bg-black rounded p-4" style="opacity: 0.6">
              <h1 class="">What is FloodWise</h1>
              <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit.
                Ducimus quibusdam eligendi corrupti veniam iure, sint
                repudiandae ipsam deleniti reiciendis maiores nostrum doloremque
                maxime incidunt, voluptatem eaque quae quas quos! Nam temporibus
                aut architecto minima nobis doloremque quam. Iste aperiam
                temporibus quo fugit maxime, in voluptate. Quia eaque voluptatem
                minima optio reprehenderit! Assumenda esse enim adipisci impedit
                sapiente aspernatur sunt nemo voluptatem? Dicta officiis ad,
                sapiente quo consequatur error quas reiciendis at, vero quam
                incidunt minima a in adipisci voluptatum delectus, totam
                necessitatibus impedit accusamus assumenda accusantium molestiae
                architecto odio. Totam vitae, nihil nesciunt iure nobis corporis
                pariatur? Recusandae, reiciendis saepe?
              </p>
            </div>

            <!-- Column for the image -->
            <div class="col-md-6 text-center">
              <img
                src="assets/fmonitor.jpg"
                alt="FloodWise Image"
                class="img-fluid"
              />
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Second Page -->
    <div id="first-page" class="container-fluid">
      <div
        style="
          background-image: url('assets/bg-3.jpg');
          height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
        "
      >
        <div class="container">
          <div class="row">
            <!-- Column for the paragraph -->
            <div class="col-md-6 bg-black rounded p-4" style="opacity: 0.6">
              <h1 class="">What is FloodWise</h1>
              <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit.
                Ducimus quibusdam eligendi corrupti veniam iure, sint
                repudiandae ipsam deleniti reiciendis maiores nostrum doloremque
                maxime incidunt, voluptatem eaque quae quas quos! Nam temporibus
                aut architecto minima nobis doloremque quam. Iste aperiam
                temporibus quo fugit maxime, in voluptate. Quia eaque voluptatem
                minima optio reprehenderit! Assumenda esse enim adipisci impedit
                sapiente aspernatur sunt nemo voluptatem? Dicta officiis ad,
                sapiente quo consequatur error quas reiciendis at, vero quam
                incidunt minima a in adipisci voluptatum delectus, totam
                necessitatibus impedit accusamus assumenda accusantium molestiae
                architecto odio. Totam vitae, nihil nesciunt iure nobis corporis
                pariatur? Recusandae, reiciendis saepe?
              </p>
            </div>

            <!-- Column for the image -->
            <div class="col-md-6 text-center">
              <img
                src="assets/fmonitor.jpg"
                alt="FloodWise Image"
                class="img-fluid"
              />
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Third Page -->
    <div
      class="container-fluid"
      style="
        background-image: url('assets/bg-2.jpg');
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
      "
    >
      <form id="reportForm">
        <h3>Submit a flood report.</h3>
        <div class="mb-3">
          <label for="exampleInputEmail1" class="form-label"
            >Email address</label
          >
          <input
            type="email"
            class="form-control"
            id="exampleInputEmail1"
            aria-describedby="emailHelp"
          />
        </div>
        <div class="mb-3">
          <label for="exampleInputPassword1" class="form-label">Message</label>
          <input type="text" class="form-control" id="exampleInputPassword1" />
        </div>

        <button type="button" class="btn btn-primary" id="submitBtn">
          Submit
        </button>
      </form>
    </div>

    <div
      class="modal fade"
      id="reportModal"
      tabindex="-1"
      aria-labelledby="reportModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="reportModalLabel">Report Submission</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body" id="modalBody">
            <!-- Modal content will be dynamically added here -->
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer Section -->
    <footer class="bg-dark text-light text-center py-2">
      <p>COPYRIGHT 2024 | FLOODWISE X UTHM | FINAL YEAR STUDENT PROJECT.</p>
    </footer>
    <!-- footer end -->

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-app.js";
      import {
        getFirestore,
        collection,
        addDoc,
        serverTimestamp,
      } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-firestore.js";

      // Initialize Firebase with your own config
      const firebaseConfig = {
        apiKey: "AIzaSyCPuXNVOmWX3OpkcR7Y9qh0wAETCxgmVM8",
        authDomain: "floodwise-backend.firebaseapp.com",
        databaseURL:
          "https://floodwise-backend-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "floodwise-backend",
        storageBucket: "floodwise-backend.appspot.com",
        messagingSenderId: "232729649842",
        appId: "1:232729649842:web:1b653695b09d142dfa9fab",
        measurementId: "G-N5082RR7PG",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);

      // Get a Firestore instance
      const firestore = getFirestore(app);

      // Define the submitReport function
      window.submitReport = function () {
        // Get form values
        const email = document.getElementById("exampleInputEmail1").value;
        const message = document.getElementById("exampleInputPassword1").value;

        // Check if email and message are not empty
        if (email && message) {
          // Add a new document with a generated ID to the "reports" collection
          addDoc(collection(firestore, "reports"), {
            email,
            message,
            timestamp: serverTimestamp(),
          })
            .then((docRef) => {
              // Clear the form
              document.getElementById("reportForm").reset();
              // Show success modal
              displayModal(
                "Report submitted successfully, we will response your report as soon as possible. Report ID: " +
                  docRef.id,
                "success"
              );
            })
            .catch((error) => {
              console.error("Error adding document:", error);
              // Show error modal
              displayModal(
                "Error submitting report. Please try again.",
                "error"
              );
            });
        } else {
          console.error("Email and message are required.");
          // Show error modal
          displayModal("Email and message are required.", "error");
        }
      };

      function displayModal(message, type) {
        const modalBody = document.getElementById("modalBody");
        modalBody.innerHTML = message;

        const modal = new bootstrap.Modal(
          document.getElementById("reportModal")
        );
        modal.show();
      }

      // Attach the click event to the button
      document
        .getElementById("submitBtn")
        .addEventListener("click", submitReport);
    </script>
  </body>
</html>
